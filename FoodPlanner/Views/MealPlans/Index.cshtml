@model FoodPlanner.Models.ViewModels.CalendarViewModel
@{
    ViewData["Title"] = "Index";
}

<h1>Index</h1>

<p>
    <a asp-action="Create">Create New</a>
</p>

<div class="container">
    <div class="row">
        @for (int i = 0; i < Model.Days.Count; i++)
            {
                var day = Model.Days[i];
                <div class="col border">
                    <p>@day.Date.ToString("dddd - dd-MM-yyyy")</p> 

                    @if(day.MealPlan?.Recipe != null)
                    { 
                        <a asp-controller="Recipes" asp-action="Details" asp-route-id="@day.MealPlan.RecipeID"> @day.MealPlan.Recipe.RecipeName </a> 
                    }
                    else
                    {
                        <p>Ingen måltider planlagt</p>
                    }
                </div>

            if ((i + 1) % 7 == 0 && i != Model.Days.Count -1)
            {
                @:</div><div class="row">
            }
            }
    </div>
</div>